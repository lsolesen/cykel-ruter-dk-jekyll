$(document).ready(function(){$("#main").fitVids(),$(".author__urls-wrapper button").on("click",function(){$(".author__urls").toggleClass("is--visible"),$(".author__urls-wrapper").find("button").toggleClass("open")}),$(document).keyup(function(e){e.keyCode===27&&$(".initial-content").hasClass("is--hidden")&&($(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"))}),$(".search__toggle").on("click",function(){$(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"),setTimeout(function(){$(".search-content input").focus()},400)});var e,t,n,o=new SmoothScroll('a[href*="#"]',{offset:20,speed:400,speedAsDuration:!0,durationMax:500});$("nav.toc").length>0&&(n=new Gumshoe("nav.toc a",{navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:20,reflow:!0,events:!0}));const s=function(e){var t=e.target,n={behavior:"auto",block:"nearest",inline:"start"},s=document.querySelector("aside.sidebar__right.sticky");if(!s)return;if(window.getComputedStyle(s).position!=="sticky")return;t.parentElement.classList.contains("toc__menu")&&t==t.parentElement.firstElementChild?document.querySelector("nav.toc header").scrollIntoView(n):t.scrollIntoView(n)};!window.chrome||document.addEventListener("gumshoeActivate",s),$("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.png'],a[href$='.gif'],a[href$='.webp']").has("> img").addClass("image-popup"),$(".image-popup").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">Image #%curr%</a> could not be loaded.'},removalDelay:500,mainClass:"mfp-zoom-in",callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")}},closeOnContentClick:!0,midClick:!0}),document.querySelector(".page__content").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(e){var t,n=e.getAttribute("id");n&&(t=document.createElement("a"),t.className="header-link",t.href="#"+n,t.innerHTML='<span class="sr-only">Permalink</span><i class="fas fa-link"></i>',t.title="Permalink",e.appendChild(t))}),e=function(e){if(document.queryCommandEnabled("copy")&&navigator.clipboard)return navigator.clipboard.writeText(e).then(()=>!0,()=>console.error("Failed to copy text to clipboard: "+e)),!0;var n,s,o=document.documentElement.getAttribute("dir")==="rtl",t=document.createElement("textarea");t.className="clipboard-helper",t.style[o?"right":"left"]="-9999px",s=window.pageYOffset||document.documentElement.scrollTop,t.style.top=s+"px",t.setAttribute("readonly",""),t.value=e,document.body.appendChild(t),n=!0;try{t.select(),n=document.execCommand("copy")}catch{n=!1}return t.parentNode.removeChild(t),n},t=function(t){for(var o,i,n=t.target,s=n.nextElementSibling;s&&s.tagName.toLowerCase()!=="code";)s=s.nextElementSibling;if(!s)throw console.warn(n),new Error("No code block found for this button.");return o=s.querySelector("td.code, td.rouge-code"),o&&(s=o),i=e(s.innerText),n.focus(),i&&(n.interval!==null&&clearInterval(n.interval),n.classList.add("copied"),n.interval=setTimeout(function(){n.classList.remove("copied"),clearInterval(n.interval),n.interval=null},1500)),i},window.enable_copy_code_button&&document.querySelectorAll(".page__content pre.highlight > code").forEach(function(e){var o,i=e.parentElement;if(i.firstElementChild.tagName.toLowerCase()!=="code")return;o=document.createElement("button"),o.title="Copy to clipboard",o.className="clipboard-copy-button",o.innerHTML='<span class="sr-only">Copy code</span><i class="far fa-fw fa-copy"></i><i class="fas fa-fw fa-check copied"></i>',o.addEventListener("click",t),i.prepend(o)})})